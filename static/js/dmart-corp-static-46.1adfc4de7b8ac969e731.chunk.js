(this["webpackJsonpdmart-corp-static"]=this["webpackJsonpdmart-corp-static"]||[]).push([[46],{aVv4:function(e,t,a){"use strict";a.r(t),a.d(t,"userTypeMap",(function(){return M})),a.d(t,"LocationTypes",(function(){return F})),a.d(t,"headOffice",(function(){return N})),a.d(t,"headOfficeCity",(function(){return U}));var n=a("g4DW"),r=a("jQsN"),o=a.n(r),i=a("butC"),l=a("2bPg"),s=a("BRlI"),c=a("00an"),d=a("tLe6"),m=a("q1tI"),u=a("tRbT"),p=a("jjAL"),h=a("Z3vd"),b=a("H2TA"),g=a("MKeS"),f=a("NKQG"),E=a("Ty5D"),C=a("/MKj"),T=a("+bXu"),v=a("1qWt"),A=a("E+oP"),P=a.n(A),_=a("mwIZ"),S=a.n(_),R=a("pZt1"),O=a.n(R),y=a("LvDl"),k=a("SAJy"),L=a("ZBNC"),x=a("s+fF"),I=function(e){return Object(L.a)({"@global":{".grecaptcha-badge":{visibility:"visible",width:"70px !important",overflow:"hidden !important",transition:"all 0.3s ease !important",left:"0px !important",zIndex:15},".grecaptcha-badge:hover":{width:"256px !important"}},root:{},customerImage:Object(n.a)({width:"127px"},e.breakpoints.down("sm"),{width:"40px"}),tabLabel:Object(n.a)({},e.breakpoints.down("sm"),{display:"none"}),tabFont:Object(n.a)({fontSize:Object(x.c)(12)},e.breakpoints.down("sm"),{fontSize:Object(x.c)(10)}),formControl:{marginTop:e.spacing(2),marginBottom:e.spacing(1),width:"100%",minWidth:"100%"},paragraph:Object(n.a)({"& > *":{paddingLeft:0,paddingRight:0}},e.breakpoints.up("md"),{width:500,justifyContent:"center",alignItems:"center",margin:"auto"}),select:{},centerText:{display:"flex",alignItems:"center",justifyContent:"center"},tabs:{justifyContent:"center"},labelSize:{fontSize:18},outlined:{fontSize:16,fontWeight:500},field:{margin:e.spacing(1,0),marginTop:e.spacing(2),width:"100%"},padding:{},actionButton:{minWidth:100,height:Object(x.c)(36),letterSpacing:"1.25px",fontSize:Object(x.c)(14)},stickyButton:{top:"calc(100vh - 200px)",bottom:-8,height:62,background:"white",zIndex:10,alignItems:"center",margin:e.spacing(2,0)},form:{height:"calc(100vh - 168px)"}})},j=a("UHX2"),D=(Object(g.a)((function(){return a.e(29).then(a.bind(null,"HvvW"))})),Object(g.a)((function(){return a.e(9).then(a.bind(null,"tBh6"))}))),M={0:"CUSTOMER",1:"EMPLOYEE",2:"VENDOR",3:"OTHER"},F=[{label:"Store",value:"Store"},{label:"Distribution Center",value:"Distribution Center"},{label:"Regional Office",value:"Regional Office"},{label:"Head Office",value:"Head Office"}],N=["Maharashtra"],U=[{locationCode:"",company:"",locationName:"",locationType:"",region:"",alias1:"",alias2:"",pincode:"",address:"",siteCity:"Thane",siteState:"Maharashtra"}],B=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).reCaptcha=m.createRef(),r.componentDidUpdate=function(e){var t=e.feedbackForm,a=r.props,n=a.feedbackForm,o=a.enqueueSnackbar;if(t.submitFeedback!==n.submitFeedback&&(n.submitFeedback===x.a.SUCCESS&&r.getCaptchaToken(),n.submitFeedback===x.a.LOADING&&r.getCaptchaToken()),t.submitFeedback!==n.submitFeedback&&(n.submitFeedback===x.a.SUCCESS&&o("Thank you for your feedback.",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}}),n.submitFeedback===x.a.FAILURE)){var i=S()(n.errorData,"response.message",""),l=P()(i)?n.errorData.message:i;0===n.errorData.status&&(l="No internet available. Please check your connection and try again later."),o(l,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}})}if(t.getStoreList!==n.getStoreList&&n.getStoreList===x.a.SUCCESS){var s=r.props,c=s.type,d=s.siteId,m=s.updateForm,u=s.changeStateOrCityAction;if(""!==d){var p=c?Object(y.filter)(n.storeList,(function(e){return e.locationType===c})):n.storeList,h=O()(Object(y.filter)(p,(function(e){return e.locationCode===d})));u({state:S()(h,"siteState","")}),u({city:S()(h,"siteCity","")}),m({store:S()(h,"locationName","")})}}},r.onLoadRecaptcha=function(){r.reCaptcha.current&&r.reCaptcha.current.reset()},r.getCaptchaToken=Object(i.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=r.props.type,!(a=S()(r.props,"googleReCaptchaProps",{})).executeRecaptcha){e.next=9;break}return e.next=6,a.executeRecaptcha("Form_".concat(t));case 6:n=e.sent,console.log("Recaptha",n),r.setState({captcha:n});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("getCaptchaToken failed ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),r.handleSelect=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=r.props.updateForm;if(o(Object(n.a)({},a,t)),["state","city"].includes(a)){var i=r.props.changeStateOrCityAction;i(Object(n.a)({},a,t))}},r.handleChange=function(e){var t=r.props.updateForm,a=S()(e.target,"name",""),o=S()(e.target,"value","");(t(Object(n.a)({},a,o)),["locationType"].includes(a))&&(0,r.props.changeStateOrCityAction)(Object(n.a)({},a,o))},r.getMasterData=function(){var e=r.props,t=e.getStoreList,a=e.feedbackForm,n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_LOGGER:"true",REACT_APP_CSS_PREFIX:"DMart",REACT_APP_PUBLIC_URL:"https://cyril-dmart.github.io/",REACT_APP_BASE_URL:"/",REACT_APP_API_URL:"https://canary.api.dmartindia.com",REACT_APP_TITLE:"Dmart India",REACT_APP_ID:"dmart-corp-static",REACT_APP_ROOT:"dmart-corp-static",REACT_APP_MDF_API_URL:"https://canary.api.dmartindia.com",REACT_APP_CATEGORY_URL:"https://storage.googleapis.com/corporate-storage/category/categorylist.json",REACT_APP_PLACEMENT_DOCUMENT_URL:"PD_20200210223130-A7u9ojQXYX7NAug.pdf",REACT_APP_CONTENT_BASE_URL:"/corporate/content",REACT_APP_FILE_API:"/file/v1",REACT_APP_CONTENT_API:"/v1",REACT_APP_FEEDBACK_BASE_URL:"/corporate/feedback",REACT_APP_FEEDBACK_API:"/v1",REACT_APP_PARTNER_BASE_URL:"/corporate/partner",REACT_APP_MDM_BASE_URL:"/mdm-site/v1",REACT_APP_PARTNER_UPLOAD_VERB:"/onboard/files/v1",REACT_APP_PARTNER_REGISTER_VERB:"/onboard/v1",REACT_APP_CAPTACHA_KEY:"6LdKg_0UAAAAAGhploFNjTULYF_eCDXv69lqW0Z5",REACT_APP_GA:"UA-68974534-1"}),o=n.REACT_APP_API_URL,i=void 0===o?"":o,l=n.REACT_APP_MDM_BASE_URL,s={query:"",url:"".concat(i+(void 0===l?"":l))};0===a.allStores.length&&t(s)},r._handleSubmit=function(e){var t=r.props,a=t.sendFeedbackData,n=t.formData,o=t.mode,i=t.kioskMode,l=r.state.captcha,s=n.state,c=n.city,d=n.store,m=n.locationType,u=n.storecode,p=n.userType,h=n.mobile,b=n.emailId,g=n.addressLine1,f=n.addressLine2,E=n.pincode,C=n.name,T=n.comments;a({userType:p,location:{state:s,city:c,store:d,locationType:m,storecode:i?S()(d,"locationCode",""):u},userContact:{mobile:h,emailId:b,address1:g,address2:f,pincode:E,name:C},captcha:l,comments:T,mode:o})},r._handleErrors=function(e){},r.state={captcha:""},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getMasterData();var e=this.props,t=e.updateForm,a=e.type;t({userType:M[a]}),this.getCaptchaToken(),setInterval(this.getCaptchaToken,12e4)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.type,r=t.feedbackForm,o=t.formData,i=S()(o,"locationType",""),l=M[n],s=S()(o,"state",""),c=S()(o,"city",""),d=S()(o,"store",""),b=S()(o,"name",""),g=S()(o,"mobile",""),f=S()(o,"emailId",""),E=S()(o,"addressLine1",""),C=S()(o,"addressLine2",""),v=S()(o,"pincode",""),A=S()(o,"comments",""),P=S()(r,"stateList",[]),_=S()(r,"cityList",[]),R=S()(r,"cityStores",[]);return m.createElement("div",{className:a.form},m.createElement(k.ValidatorForm,{onSubmit:function(t){return e._handleSubmit(t)},onError:function(t){return e._handleErrors(t)},noValidate:!0},m.createElement(u.a,{container:!0,spacing:1},1===n&&m.createElement(u.a,{item:!0,sm:6,md:6,xs:12},m.createElement(k.TextValidator,{id:"section",select:!0,label:"Location Type",value:i,onChange:this.handleChange,variant:"outlined",SelectProps:{displayEmpty:!0},className:a.field,InputProps:{className:a.padding},classes:{root:a.outlined},name:"locationType",required:!0},F.map((function(e){return m.createElement(p.a,{key:e.label,value:e.value},e.label)})))),m.createElement(u.a,{item:!0,sm:6,md:6,xs:12},m.createElement(T.a,{fullWidth:!0,disableClearable:!0,autoHighlight:!0,options:P,value:s,getOptionLabel:function(e){return e},getOptionSelected:function(e,t){return e===t},noOptionsText:"No Options",autoComplete:!1,onChange:function(t,a){return e.handleSelect(t,a,"state")},renderInput:function(e){return m.createElement(k.TextValidator,Object.assign({},e,{fullWidth:!0,label:"State",name:"state",margin:"normal",placeholder:"Enter State",variant:"outlined",autoComplete:"false",InputLabelProps:{shrink:!0},value:s,validators:["required"],errorMessages:["This field is required"],helperText:"",required:"CUSTOMER"===l}))}})),m.createElement(u.a,{item:!0,sm:6,xs:12,md:6},m.createElement(T.a,{disableClearable:!0,value:c,options:_,getOptionLabel:function(e){return e},getOptionSelected:function(e,t){return e===t},onChange:function(t,a){return e.handleSelect(t,a,"city")},noOptionsText:"No Options",renderInput:function(e){return m.createElement(k.TextValidator,Object.assign({},e,{fullWidth:!0,margin:"normal",name:"city",placeholder:"Enter City",label:"City",variant:"outlined",autoComplete:"false",InputLabelProps:{shrink:!0,classes:{root:a.labelSize}},value:c,validators:["required"],errorMessages:["This select a city"],helperText:"",required:"CUSTOMER"===l}))}})),"Store"===i||"CUSTOMER"===l&&m.createElement(u.a,{item:!0,sm:6,xs:12,md:6},m.createElement(T.a,{disableClearable:!0,value:d,options:R,getOptionLabel:function(e){return e},getOptionSelected:function(e,t){return e===t},onChange:function(t,a){return e.handleSelect(t,a,"store")},noOptionsText:"No Options",renderInput:function(e){return m.createElement(k.TextValidator,Object.assign({},e,{fullWidth:!0,margin:"normal",name:"store",autoComplete:"false",placeholder:"Select Store",label:"Store",variant:"outlined",InputLabelProps:{shrink:!0,classes:{root:a.labelSize}},value:c,validators:["required"],errorMessages:["Please select a store"],helperText:"",required:"CUSTOMER"===l}))}})),m.createElement(u.a,{item:!0,sm:6,xs:12,md:6},m.createElement(k.TextValidator,{fullWidth:!0,name:"name",value:b,variant:"outlined",margin:"normal",autoComplete:"false",label:"Name",placeholder:"Enter Name",InputLabelProps:{shrink:!0},onChange:this.handleChange,validators:[],errorMessages:["Please enter your name"]})),m.createElement(u.a,{item:!0,sm:6,xs:12,md:6},m.createElement(k.TextValidator,{fullWidth:!0,name:"mobile",value:g,variant:"outlined",margin:"normal",autoComplete:"false",label:"Mobile",placeholder:"Enter Mobile No",InputLabelProps:{shrink:!0},onChange:this.handleChange,required:!0,validators:["required","matchRegexp:^[6-9]{1}[0-9]{9}$"],errorMessages:["Please enter your mobile number","Please enter a valid mobile number"]})),m.createElement(u.a,{item:!0,sm:6,xs:12,md:6},m.createElement(k.TextValidator,{fullWidth:!0,name:"emailId",value:f,variant:"outlined",margin:"normal",autoComplete:"false",label:"Email",placeholder:"Enter Email",InputLabelProps:{shrink:!0},onChange:this.handleChange,required:!0,validators:["required","isEmail"],errorMessages:["Please enter Email Id","Please enter a valid Email Id"]})),m.createElement(u.a,{item:!0,sm:6,xs:12,md:6},m.createElement(k.TextValidator,{fullWidth:!0,rows:1,multiline:!0,variant:"outlined",type:"text",name:"addressLine1",value:E,margin:"normal",autoComplete:"false",label:"Address 1",placeholder:"Enter your Address",InputLabelProps:{shrink:!0},onChange:this.handleChange,validators:[],errorMessages:[]})),m.createElement(u.a,{item:!0,sm:6,xs:12,md:6},m.createElement(k.TextValidator,{fullWidth:!0,type:"text",name:"addressLine2",value:C,margin:"normal",autoComplete:"false",variant:"outlined",label:"Address 2",placeholder:"Enter your Area",InputLabelProps:{shrink:!0},onChange:this.handleChange,validators:[],errorMessages:[]})),m.createElement(u.a,{item:!0,sm:6,xs:12,md:6},m.createElement(k.TextValidator,{fullWidth:!0,name:"pincode",value:v,variant:"outlined",margin:"normal",autoComplete:"false",label:"Pincode",placeholder:"Enter Pincode",InputLabelProps:{shrink:!0},onChange:this.handleChange,validators:["matchRegexp:^[1-9]{1}[0-9]{2}s{0,1}[0-9]{3}$"],errorMessages:["Enter valid pincode"]})),m.createElement(u.a,{item:!0,sm:12,xs:12,md:6},m.createElement(k.TextValidator,{fullWidth:!0,multiline:!0,rows:3,type:"text",name:"comments",value:A,variant:"outlined",margin:"normal",autoComplete:"false",label:"Comments",placeholder:"Comments",InputLabelProps:{shrink:!0},required:!0,onChange:this.handleChange,validators:["required"],errorMessages:["Please provide the comments"]})),m.createElement(u.a,{item:!0,sm:12,md:12,container:!0,justify:"center",className:a.stickyButton},m.createElement(D,{loading:!1},m.createElement(h.a,{variant:"contained",color:"primary",type:"submit",disabled:r.submitFeedback===x.a.LOADING,className:a.actionButton,size:"small"},"SUBMIT"))))))}}]),a}(m.Component),W={sendFeedbackData:j.f.action,getStoreList:j.c.action,clearState:j.b.action,updateForm:j.g.action,changeStateOrCityAction:j.a.action};t.default=Object(b.a)(I,{name:"DmartFreshFeedback"})(Object(E.g)(Object(C.b)((function(e){return{feedbackForm:e.feedbackReducer,siteId:e.feedbackReducer.siteId,getStoreListState:e.feedbackReducer.getStoreList,submitFeedbackState:e.feedbackReducer.submitFeedback,formData:e.feedbackReducer.formData,kioskMode:e.feedbackReducer.kioskMode,mode:e.feedbackReducer.mode}}),W)(Object(f.b)(Object(v.b)(B)))))}}]);
//# sourceMappingURL=dmart-corp-static-46.1adfc4de7b8ac969e731.chunk.js.map